<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>order</title>
    <link rel="stylesheet" href="../css/table.css">
    <script type="text/javascript" src="../js/createTable.js"></script>
    <script type="text/javascript" src="../js/axios.min.js"></script>
    <script>
        function addOrder() {
            var data = {customName: "customName", productName: "productName", phone: "13645455612", doorType: 1,
                address: "address", remake: "remake", scaleboardWidth: 50, scaleboardHeight: 100, totalPrice: 1000, count: 2, dealer_id: 2};
//            postRequest("http://localhost:9999/RegistServlet", data);
//            var hash = hex_md5(data);
//            var hash = hex_md5(data);
            axios.post('http://localhost:9999/add.OrderServlet', data)
                .then(function (response) {
                    if (response.status == 200) {
                        alert("成功");
                        alert(response);
                    } else  {
                        alert("失败");
                        alert(response.errorCode);
                        alert(response.error);
                    }
                })
                .catch(function (error) {
                    alert(error);
                });
        }

        function queryAllOrder() {
            var data = {pageIndex:10, pageSise:100};
//            postRequest("http://localhost:9999/RegistServlet", data);
//            var hash = hex_md5(data);
//            var hash = hex_md5(data);

            axios.post('http://localhost:9999/query.OrderServlet', data)
                .then(function (response) {
                    if (response.status == 200) {
                        var headers = ["订单id", "客户名称", "商品名称", "联系电话", "安装时间", "门类型", "数量", "商品总额", "衬板宽", "衬板高", "地址", "备注", "删除"];
                        var rows = new Array();
                        for(let value of response.data) {
                            var object = {};
                            object["id"] = value["id"];
                            object["dealerName"] = value["dealerName"];
                            object["productName"] = value["productName"];
                            object["phone"] = value["phone"];
                            object["installDate"] = value["installDate"];
                            object["doorType"] = value["doorType"];
                            object["count"] = value["count"];
                            object["totalPrice"] = value["totalPrice"];
                            object["scaleboardWidth"] = value["scaleboardWidth"];
                            object["scaleboardHeight"] = value["scaleboardHeight"];
                            object["address"] = value["address"];
                            object["remake"] = value["remake"];
                            rows.push(object);
                        }

                        creatTable(document.body, headers, rows);
                    } else  {
                        alert("失败");
                        alert(response.errorCode);
                        alert(response.error);
                    }
                })
                .catch(function (error) {
                    alert(error);
                });
        }
    </script>
</head>
<body>

<button onclick="addOrder()"> 添加商品 </button>

<button onclick="queryAllOrder()"> 商品列表 </button>

</body>
</html>